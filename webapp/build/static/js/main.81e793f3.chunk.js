(this["webpackJsonpdashboard-page"]=this["webpackJsonpdashboard-page"]||[]).push([[0],{32:function(e,t,r){e.exports=r(67)},37:function(e,t,r){},46:function(e,t){},67:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(12),s=r.n(c),l=(r(37),r(4)),o=r(5),u=r(1),i=r.n(u),p=r(2),m=r(3),d="STAT_UPDATE",v=r(28),_=(r(29),Object.prototype.hasOwnProperty),h=function(e,t){return _.call(e,t)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Somthing Wrong",t=e;if(e instanceof Object)switch(!0){case h(e,"message"):t=e.message;break;case h(e,"msg"):t=e.msg;break;case h(e,"data"):t=e.data;break;case h(e,"response"):t=e.response.statusText}return t},E=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something wrong!";arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(e)},O=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]},g={prod:"http://167.99.69.87:5000",test:"http://".concat("678a70da.ngrok.io")},S={prod:"ws://167.99.69.87:5000/ws/ticks/",test:"ws://".concat("678a70da.ngrok.io","/ws/ticks/")},y=g.prod,N=S.prod;E("production","ENV"),E("prod","MODE"),E(y,"API URL"),E(N,"WEBSOCKET URL");var w={parameters:"".concat(y,"/bitmex/parameters/"),thresholds:"".concat(y,"/bitmex/thresholds"),funding:"".concat(y,"/bitmex/funding"),levels:"".concat(y,"/bitmex/levels/")},j=r(7),T=r.n(j);T.a.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),T.a.interceptors.response.use(function(e){var t="[URL: ".concat(e.config.url,", STATUS: ").concat(e.status,"]");return 200===e.status?E(e.data,t):O(e.data,t),e},function(e){var t="[URL: ".concat(e.response.config.url,", STATUS: ").concat(e.response.status,"]");return b(e,t),Promise.reject(f(e))});var P={timeframe:"6h",candles:200,minTouches:3,likelinessPercent:1.5,bouncePercent:5};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R=new function e(){Object(v.a)(this,e),this.fetchParameters=Object(m.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(w.parameters);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),this.fetchParametersUpdate=function(){var e=Object(m.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.put("".concat(w.parameters).concat(t.id,"/"),t);case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),this.fetchFunding=Object(m.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(w.funding);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),this.fetchThresholds=Object(m.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(w.thresholds);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),this.thresholdsAlertsUpdate=function(){var e=Object(m.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.put("".concat(w.thresholds,"/").concat(t.id,"/"),t);case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),this.fetchLevels=function(){var e=Object(m.a)(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post(w.levels,t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),this.getLevels=Object(m.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(w.levels);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])})),this.addLevel=function(){var e=Object(m.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.put(w.levels,t);case 3:if(200===(r=e.sent).status){e.next=6;break}throw r.data;case 6:return e.abrupt("return");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),this.deleteLevel=function(){var e=Object(m.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete(w.levels,{data:t});case 3:if(200===(r=e.sent).status){e.next=6;break}throw r.data;case 6:return e.abrupt("return");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(m.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t("PARAMETERS_REQUEST"),e.prev=1,e.next=4,R.fetchParameters();case 4:(r=e.sent).forEach(function(e){var r=e.key,n=e.value;t([d,Object(p.a)({},r,n)])}),t(["PARAMETERS_UPDATE",r]),t("PARAMETERS_SUCCESS"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t("PARAMETERS_FAILURE");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(m.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t("THRESHOLDS_REQUEST"),e.prev=1,e.next=4,R.fetchThresholds();case 4:(r=e.sent).forEach(function(e){var r=e.timeframe,n=e.threshold_value_percent;switch(e.threshold_type){case"VOLUME_CHANGE":switch(r){case"1m":t(["THRESHOLDS_UPDATE_ALERT",{volume_1m:n}]);break;case"5m":t(["THRESHOLDS_UPDATE_ALERT",{volume_5m:n}]);break;case"1h":t(["THRESHOLDS_UPDATE_ALERT",{volume_1h:n}]);break;case"1d":t(["THRESHOLDS_UPDATE_ALERT",{volume_1d:n}])}break;case"RESISTANCE":t(["THRESHOLDS_UPDATE_ALERT",{resistance:n}]);break;case"OPEN_INTEREST":t(["THRESHOLDS_UPDATE_ALERT",{OPEN_INTEREST:n}]);break;case"SUPPORT":t(["THRESHOLDS_UPDATE_ALERT",{support:n}])}}),t(["THRESHOLDS_UPDATE",r]),t("THRESHOLDS_SUCCESS"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t("THRESHOLDS_FAILURE");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(m.a)(i.a.mark(function t(r){var n,a,c,s,l,o,u,p,m,d,v,_,h,f,E;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=U({},P,{},e),r("LEVELS_REQUEST"),t.prev=2,t.next=5,R.fetchLevels(n);case 5:a=t.sent,c=a.candles,s=void 0===c?[]:c,l=a.support,o=void 0===l?[]:l,u=a.resistance,p=void 0===u?[]:u,m=a.custom,d=void 0===m?[]:m,v=s.map(function(e){return{t:e.Timestamp,o:e.Open,h:e.High,l:e.Low,c:e.Close,x:e.Timestamp}}),_=function(e,t){return{idx:t,price:e,chartLine:!0,distance:""}},h=o.map(_),f=d.map(_),E=p.map(_),r(["LEVELS_UPDATE",{chart:v,support:h,resistance:E,custom:f}]),r("LEVELS_SUCCESS"),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),r("LEVELS_FAILURE");case 26:case"end":return t.stop()}},t,null,[[2,23]])}));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return function(r,n){var a=Object(o.a)(n().levelsModule[t]),c=U({},a[e]);a.splice(e,1,U({},c,{chartLine:!c.chartLine})),r(["LEVELS_UPDATE",Object(p.a)({},t,a)])}},x=function(e,t){return function(){var r=Object(m.a)(i.a.mark(function r(n){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n("object"===typeof e?["THRESHOLDS_UPDATE_ALERT",Object(p.a)({},e.type,e.value)]:["THRESHOLDS_UPDATE_ALERT",Object(p.a)({},t,e)]);case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(m.a)(i.a.mark(function r(n,a){var c,s,l;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a().thresholdsModule[e],!(s=t?a().thresholdsModule.thresholds.find(function(e){return e.timeframe===t}):a().thresholdsModule.thresholds.find(function(t){return t.threshold_type===String(e).toUpperCase()}))){r.next=7;break}return l=U({},s,{threshold_value_percent:c}),r.next=6,R.thresholdsAlertsUpdate(l);case 6:k()(n);case 7:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()},B=r(30),I=r.n(B),H=function(e){return I()(e).format("0,0.[00]").split(",").join(" ")},V=function(e,t){return"".concat(e," USD (").concat(t,"%)")},F=Object(l.b)(function(e){var t=e.thresholdsModule;return{stat:e.statModule.stat,thresholds:t}},{parametersUpdate:function(e,t){return function(){var r=Object(m.a)(i.a.mark(function r(n){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n([d,Object(p.a)({},t,e)]);case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},fetchParametersUpdate:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(r,n){var a,c,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n().statModule.stat[e],!(c=n().parametersModule.parameters.find(function(t){return t.key===e}))){t.next=7;break}return s=U({},c,{value:a}),t.next=6,R.fetchParametersUpdate(s);case 6:L()(r);case 7:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()},thresholdsUpdateAlert:x,thresholdsUpdateAlertRequest:C})(function(e){var t=e.thresholds,r=e.stat,n=e.thresholdsUpdateAlertRequest,c=e.thresholdsUpdateAlert,s=e.fetchParametersUpdate,l=e.parametersUpdate,o=function(e){return function(t){var r=t.target.value;"VOLUME_NUMBER_OF_TRADES"===e?l(r,e):c({type:e,value:r})}},u=function(e){return function(t){t&&t.preventDefault(),"VOLUME_NUMBER_OF_TRADES"===e?s(e):n(e)}},i=function(e){return function(t){"Enter"===t.key&&document.getElementById(e).blur()}};return a.a.createElement("div",{className:"section"},a.a.createElement("ul",{className:"section__list"},a.a.createElement("li",{className:"section__item"},a.a.createElement("span",{className:"section__value"},"Price"),a.a.createElement("span",{className:"section__value"},H(r.price)," USD")),a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value"},"Volume of last"),a.a.createElement("input",{id:"VOLUME_NUMBER_OF_TRADES",type:"number",value:r.VOLUME_NUMBER_OF_TRADES,onChange:o("VOLUME_NUMBER_OF_TRADES"),onKeyUp:i("VOLUME_NUMBER_OF_TRADES"),onBlur:u("VOLUME_NUMBER_OF_TRADES"),className:"section__input section__input--trades"}),a.a.createElement("span",{className:"section__value"},"trades")),a.a.createElement("span",{className:"section__value"},H(r.volume_of_last)," USD")),a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value"},"Open Interest"),a.a.createElement("input",{id:"OPEN_INTEREST",type:"number",value:t.OPEN_INTEREST,onChange:o("OPEN_INTEREST"),onKeyUp:i("OPEN_INTEREST"),onBlur:u("OPEN_INTEREST"),className:"section__input section__input--trades"})),a.a.createElement("span",{className:"section__value"},H(r.open_inerest)," USD"))))}),W=Object(l.b)(function(e){return{stat:e.statModule.stat}})(function(e){var t=e.stat;return a.a.createElement("div",{className:"section"},a.a.createElement("ul",{className:"section__list"},a.a.createElement("li",{className:"section__item"},a.a.createElement("span",{className:"section__value"},"Current Funding Rate"),a.a.createElement("span",{className:"section__value"},t.current_funding_rate)),a.a.createElement("li",{className:"section__item"},a.a.createElement("span",{className:"section__value"},"Predicted Funding Rate"),a.a.createElement("span",{className:"section__value"},t.predicted_funding_rate)),a.a.createElement("li",{className:"section__item"},a.a.createElement("span",{className:"section__value"},"Next Funding Rate Change at"),a.a.createElement("span",{className:"section__value"},t.next_funding_rate_change))))}),K=Object(l.b)(function(e){return{thresholds:e.thresholdsModule,stat:e.statModule.stat}},{thresholdsUpdateAlert:x,thresholdsUpdateAlertRequest:C})(function(e){var t=e.stat,r=e.thresholds,n=e.thresholdsUpdateAlert,c=e.thresholdsUpdateAlertRequest,s=[["volume_1m","1m"],["volume_5m","5m"],["volume_1h","1h"],["volume_1d","1d"]],l=function(e){return function(t){var r=t.target.value,a=s[e],c=a[0],l=a[1];n({type:c,value:r},l)}},o=function(e){return function(t){t&&t.preventDefault();var r=s[e],n=r[0],a=r[1];c(n,a)}},u=function(e){return function(t){"Enter"===t.key&&document.getElementById(s[e][0]).blur()}};return a.a.createElement("div",{className:"section"},a.a.createElement("ul",{className:"section__list"},a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value section__value--col"},"1m USD Volume Change"),a.a.createElement("input",{id:s[0][0],type:"text",value:r.volume_1m,onChange:l(0),onKeyUp:u(0),onBlur:o(0),placeholder:"alert threshold in %",className:"section__input section__input--level"})),a.a.createElement("span",{className:"section__value"},V(t.volume1m_change,t.volume1m_change_percent))),a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value section__value--col"},"5m USD Volume Change"),a.a.createElement("input",{id:s[1][0],type:"text",value:r.volume_5m,onChange:l(1),onKeyUp:u(1),onBlur:o(1),placeholder:"alert threshold in %",className:"section__input section__input--level"})),a.a.createElement("span",{className:"section__value"},V(t.volume5m_change,t.volume5m_change_percent))),a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value section__value--col"},"1h USD Volume Change"),a.a.createElement("input",{id:s[2][0],type:"text",value:r.volume_1h,onChange:l(2),onKeyUp:u(2),onBlur:o(2),placeholder:"alert threshold in %",className:"section__input section__input--level"})),a.a.createElement("span",{className:"section__value"},V(t.volume1h_change,t.volume1h_change_percent))),a.a.createElement("li",{className:"section__item"},a.a.createElement("div",{className:"section__wrapper"},a.a.createElement("span",{className:"section__value section__value--col"},"1d USD Volume Change"),a.a.createElement("input",{id:s[3][0],type:"text",value:r.volume_1d,onChange:l(3),onKeyUp:u(3),onBlur:o(3),placeholder:"alert threshold in %",className:"section__input section__input--level"})),a.a.createElement("span",{className:"section__value"},V(t.volume1d_change,t.volume1d_change_percent)))))}),X=r(9),J={level:{idx:"",price:"",distance:"",chartLine:!0},levels:{loading:!1,hasError:!1,chart:[],support:[],resistance:[]},stat:{price:0,volume_of_last:0,VOLUME_NUMBER_OF_TRADES:"",OPEN_INTEREST:"",TIMEFRAMES:"",open_inerest:0,current_funding_rate:"0",predicted_funding_rate:"0",next_funding_rate_change:"0",volume1m_change:0,volume1m_change_percent:0,volume5m_change:0,volume5m_change_percent:0,volume1h_change:0,volume1h_change_percent:0,volume1d_change:0,volume1d_change_percent:0,volume_change_1m:"",volume_change_5m:"",volume_change_1h:"",volume_change_1d:"",resistance:[],support:[],custom_levels:[]},levelParams:P};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var q=Object(l.b)(function(e){return{timeframes:e.statModule.stat.TIMEFRAMES}},{fetchLevels:M})(function(e){var t=e.fetchLevels,r=e.timeframes,c=Object(n.useState)(J.levelParams),s=Object(X.a)(c,2),l=s[0],o=s[1],u=function(e){return function(t){var r="candles"===e?Number(t.target.value):t.target.value;o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},l,Object(p.a)({},e,r)))}},d=function(){var e=Object(m.a)(i.a.mark(function e(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t(l),e.abrupt("return");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"levels"},a.a.createElement("form",null,a.a.createElement("div",{className:"levels__row"},a.a.createElement("div",{className:"levels__input-wrapper"},a.a.createElement("label",{className:"levels__label",htmlFor:"timeframe"},"Timeframe"),a.a.createElement("div",{className:"levels__select-wrapper"},a.a.createElement("input",{value:l.timeframe,readOnly:!0,placeholder:"timeframe",className:"levels__input levels__input--like-select"}),a.a.createElement("select",{id:"timeframe",onChange:u("timeframe"),placeholder:"timeframe",className:"levels__select",value:l.timeframe},r.split(",").map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"levels__input-wrapper"},a.a.createElement("label",{className:"levels__label",htmlFor:"candles"},"Candles"),a.a.createElement("input",{id:"candles",onChange:u("candles"),value:l.candles,type:"number",placeholder:"candles",className:"levels__input "}))),a.a.createElement("div",{className:"levels__row"},a.a.createElement("div",{className:"levels__input-wrapper"},a.a.createElement("label",{className:"levels__label",htmlFor:"min_touches"},"Min touches"),a.a.createElement("input",{id:"min_touches",onChange:u("minTouches"),value:l.minTouches,type:"number",placeholder:"min touches",className:"levels__input"})),a.a.createElement("div",{className:"levels__input-wrapper"},a.a.createElement("label",{className:"levels__label",htmlFor:"likeliness"},"Likeliness percent"),a.a.createElement("input",{id:"likeliness",onChange:u("likelinessPercent"),value:l.likelinessPercent,type:"number",placeholder:"likeliness percent",className:"levels__input"})),a.a.createElement("div",{className:"levels__input-wrapper"},a.a.createElement("label",{className:"levels__label",htmlFor:"bounce"},"Bounce percent"),a.a.createElement("input",{id:"bounce",onChange:u("bouncePercent"),value:l.bouncePercent,type:"number",placeholder:"bounce percent",className:"levels__input"})),a.a.createElement("button",{onClick:d,className:"levels__submit",type:"submit"},"update"))))}),z=r(17);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var Y=function(e){return function(t,r){var n="red";switch(e){case"resistance":n="red";break;case"support":n="blue";break;case"custom":n="green"}return{label:{enabled:!1,content:"Test label",position:"right"},drawTime:"afterDraw",borderColor:n,borderWidth:.5,mode:"horizontal",type:"line",value:t.price,scaleID:"y-axis-0"}}},Z=function(e,t,r){var n=e.statModule.stat.price,a=void 0===n?0:n,c=t.map(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{distance:a?new z.Decimal(a).minus(e.price).div(z.Decimal.div(a,100)).toFixed(2):0})});switch(r){case"asc":return c.sort(function(e,t){return e.price-t.price});case"desc":return c.sort(function(e,t){var r=e.price;return t.price-r});default:return c}},$=function(e){var t=e.levelsModule.resistance.filter(function(e){return e.chartLine}).map(Y("resistatnce")),r=e.levelsModule.support.filter(function(e){return e.chartLine}).map(Y("support")),n=e.levelsModule.custom.filter(function(e){return e.chartLine}).map(Y("custom"));return[].concat(Object(o.a)(t),Object(o.a)(r),Object(o.a)(n))},ee=function(e){var t=e.className,r=e.checked,n=e.onChange;return a.a.createElement("label",{className:"checkbox"},a.a.createElement("input",{type:"checkbox",className:"checkbox__input ".concat(t),checked:r,onChange:n}))},te=Object(l.b)(function(e){return{thresholds:e.thresholdsModule,levels:Z(e,e.levelsModule.resistance,"asc")}},{toggleResistanceLine:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(r,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:A(e,"resistance")(r,n);case 1:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()},thresholdsUpdateAlert:x,thresholdsUpdateAlertRequest:C})(function(e){var t=e.thresholds,r=e.thresholdsUpdateAlert,n=e.thresholdsUpdateAlertRequest,c=e.toggleResistanceLine,s=e.levels,l=(void 0===s?[]:s).map(function(e){var t=e.idx,r=e.price,n=e.distance,s=e.chartLine;return a.a.createElement("li",{className:"levels__distance-item fadeIn",key:t},a.a.createElement("div",{className:"levels__distance-item-box"},a.a.createElement("span",{className:"levels__value"},H(r)),a.a.createElement("span",{className:"levels__value"},n,"%"),a.a.createElement(ee,{className:"levels__checkbox",onChange:function(){return c(t)},checked:s})))});return a.a.createElement("div",{className:"levels"},a.a.createElement("div",{className:"levels__head"},a.a.createElement("h3",{className:"levels__title"},"Resistance"),a.a.createElement("input",{id:"resistance",onChange:function(e){var t=e.target.value;r(t,"resistance")},onKeyUp:function(e){"Enter"===e.key&&document.getElementById("resistance").blur()},onBlur:function(e){e&&e.preventDefault(),n("resistance")},value:t.resistance,type:"number",placeholder:"alert threshold in %",className:"levels__input"})),a.a.createElement("ul",{className:"levels__distance-list"},l))}),re=Object(l.b)(function(e){return{thresholds:e.thresholdsModule,levels:Z(e,e.levelsModule.support,"desc")}},{thresholdsUpdateAlert:x,thresholdsUpdateAlertRequest:C,toggleSupportLine:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(r,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:A(e,"support")(r,n);case 1:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()}})(function(e){var t=e.thresholds,r=e.thresholdsUpdateAlert,n=e.thresholdsUpdateAlertRequest,c=e.toggleSupportLine,s=e.levels,l=(void 0===s?[]:s).map(function(e){var t=e.idx,r=e.price,n=e.distance,s=e.chartLine;return a.a.createElement("li",{className:"levels__distance-item fadeIn",key:t},a.a.createElement("div",{className:"levels__distance-item-box"},a.a.createElement("span",{className:"levels__value"},H(r)),a.a.createElement("span",{className:"levels__value"},n,"%"),a.a.createElement(ee,{className:"levels__checkbox",onChange:function(){return c(t)},checked:s})))});return a.a.createElement("div",{className:"levels"},a.a.createElement("div",{className:"levels__head"},a.a.createElement("h3",{className:"levels__title"},"Support"),a.a.createElement("input",{id:"support",onChange:function(e){var t=e.target.value;r(t,"support")},onKeyUp:function(e){"Enter"===e.key&&document.getElementById("support").blur()},onBlur:function(e){e&&e.preventDefault(),n("support")},value:t.support,type:"number",placeholder:"alert threshold in %",className:"levels__input"})),a.a.createElement("ul",{className:"levels__distance-list"},l))}),ne=function(e){var t=e.className,r=void 0===t?"":t;return a.a.createElement("svg",{className:r,version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 357 357"},a.a.createElement("g",null,a.a.createElement("g",{id:"add"},a.a.createElement("path",{d:"M357,204H204v153h-51V204H0v-51h153V0h51v153h153V204z"}))))};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var ce=Object(l.b)(function(e){return{levels:Z(e,e.levelsModule.custom)}},{customLevelAdd:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(r,n){var a,c,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("LEVELS_REQUEST"),a={price_level:Number(e.price),type:"CUSTOM"},c=[].concat(Object(o.a)(n().levelsModule.custom),[e]),s=c.map(function(e,t){return U({},e,{idx:t})}),t.prev=4,t.next=7,R.addLevel(a);case 7:return r(["LEVELS_UPDATE",{custom:s}]),r("LEVELS_SUCCESS"),t.abrupt("return",1);case 12:return t.prev=12,t.t0=t.catch(4),r("LEVELS_FAILURE"),t.abrupt("return",0);case 16:case"end":return t.stop()}},t,null,[[4,12]])}));return function(e,r){return t.apply(this,arguments)}}()},customLevelRemove:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(r,n){var a,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("LEVELS_REQUEST"),a={price_level:e.price,type:"CUSTOM"},c=n().levelsModule.custom.filter(function(t){return t.idx!==e.idx}),t.prev=3,t.next=6,R.deleteLevel(a);case 6:r(["LEVELS_UPDATE",{custom:c}]),r("LEVELS_SUCCESS"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),r("LEVELS_FAILURE");case 13:case"end":return t.stop()}},t,null,[[3,10]])}));return function(e,r){return t.apply(this,arguments)}}()}})(function(e){var t=e.customLevelAdd,r=e.customLevelRemove,c=e.levels,s=Object(n.useState)(J.level),l=Object(X.a)(s,2),o=l[0],u=l[1],d=function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(o);case 2:e.sent&&u(J.level);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=c.map(function(e){var t=e.idx,n=e.price,c=e.distance;return a.a.createElement("li",{className:"levels__item",key:t},a.a.createElement("span",{className:"levels__value levels__value--custom"},H(n)," USD"),a.a.createElement("span",{className:"levels__value levels__value--custom"},c||0,"%"),a.a.createElement("button",{onClick:function(){return r({idx:t,price:n})},className:"levels__btn"},a.a.createElement(ne,{className:"levels__icon levels__icon--remove"})))});return a.a.createElement("div",{className:"levels"},a.a.createElement("div",{className:"levels__head"},a.a.createElement("h3",{className:"levels__title"},"Custom Levels"),a.a.createElement("input",{type:"number",placeholder:"alert threshold in %",className:"levels__input"})),a.a.createElement("div",{className:"levels__inner levels__inner--custom"},a.a.createElement("ul",{className:"levels__list"},v),a.a.createElement("div",{className:"levels__item"},a.a.createElement("input",{onKeyUp:function(e){"Enter"===e.key&&d()},value:o.price,onChange:function(e){var t=e.target.value;u(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},o,{price:t}))},type:"number",placeholder:"USD price",className:"levels__input levels__input--custom"}),a.a.createElement("button",{onClick:d,className:"levels__btn"},a.a.createElement(ne,{className:"levels__icon"})))))});function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var le=Object(l.b)(function(e){return{levelsModule:e.levelsModule,chart:e.levelsModule.chart,annotations:$(e),timeframe:e.parametersModule.timeframe}})(function(e){var t,r=e.timeframe,c=(e.annotations,Object(n.useState)((t={width:"100%",height:510,symbol:"BITMEX:XBTUSD",interval:r,timezone:"Etc/UTC",theme:"Light",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,hide_side_toolbar:!1,allow_symbol_change:!0},Object(p.a)(t,"hide_side_toolbar",!1),Object(p.a)(t,"container_id","tradingview_5abd4"),t))),s=Object(X.a)(c,2),l=s[0],o=s[1];return Object(n.useEffect)(function(){o(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{interval:r})})},[r]),Object(n.useEffect)(function(){!function(e){new window.TradingView.widget(e)}(l)},[l]),a.a.createElement("div",{className:"tradingview-widget-container"},a.a.createElement("div",{id:"tradingview_5abd4"}))}),oe=Object(l.b)(function(e){return{store:e}})(function(e){var t=e.store,r=t.levelsModule,n=t.statModule,c=t.parametersModule,s=t.thresholdsModule;return[r.loading,n.loading,c.loading,s.loading].includes(!0)?a.a.createElement("div",{className:"loader fadeIn"},a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))):null}),ue=Object(l.b)(null,{wsConnect:function(){return function(e){return e(["WS_CONNECT",N])}},fetchData:function(){return function(e){L()(e),function(){var e=Object(m.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t("STAT_REQUEST"),e.prev=1,e.next=4,R.fetchFunding();case 4:r=e.sent,t([d,r]),t("STAT_SUCCESS"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t("STAT_FAILURE");case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()(e),k()(e),M()(e)}}})(function(e){var t=e.fetchData,r=e.wsConnect;return Object(n.useEffect)(function(){r(),t()},[r,t]),a.a.createElement("div",{className:"app"},a.a.createElement(oe,null),a.a.createElement("div",{className:"app__container"},a.a.createElement("h2",{className:"app__title"},"BitMEX XBTUSD Dashboard"),a.a.createElement("section",{className:"app__section"},a.a.createElement(F,null),a.a.createElement(W,null),a.a.createElement(K,null)),a.a.createElement("h2",{className:"app__title"},"S/R Levels"),a.a.createElement("div",{className:"app__section"},a.a.createElement(le,null)),a.a.createElement("div",{className:"app__section"},a.a.createElement(q,null),a.a.createElement(te,null),a.a.createElement(re,null),a.a.createElement(ce,null))))}),ie=r(11);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var de={loading:!1,hasError:!1,chart:[],support:[],resistance:[],custom:[]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levelsModule:de},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LEVELS_REQUEST":return me({},e.levelsModule,{loading:!0,hasError:!1});case"LEVELS_SUCCESS":return me({},e.levelsModule,{loading:!1,hasError:!1});case"LEVELS_FAILURE":return me({},e.levelsModule,{loading:!1,hasError:!0});case"LEVELS_UPDATE":return me({},e.levelsModule,{},t.payload);default:return e.levelsModule}};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var fe={loading:!1,hasError:!1,stat:he({},J.stat)},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statModule:fe},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STAT_REQUEST":return he({},e.statModule,{loading:!0,hasError:!1});case"STAT_SUCCESS":return he({},e.statModule,{loading:!1,hasError:!1});case"STAT_FAILURE":return he({},e.statModule,{loading:!1,hasError:!0});case d:return he({},e.statModule,{stat:he({},e.statModule.stat,{},t.payload)});default:return e.statModule}};function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ge={loading:!1,hasError:!1,parameters:[],timeframe:"D"},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parametersModule:ge},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PARAMETERS_REQUEST":return Oe({},e.parametersModule,{loading:!0,hasError:!1});case"PARAMETERS_SUCCESS":return Oe({},e.parametersModule,{loading:!1,hasError:!1});case"PARAMETERS_FAILURE":return Oe({},e.parametersModule,{loading:!1,hasError:!0});case"PARAMETERS_UPDATE":return Oe({},e.parametersModule,{parameters:Object(o.a)(t.payload)});case"TIMEFRAME_UPDATE":return Oe({},e.parametersModule,{timeframe:Object(o.a)(t.payload)});default:return e.parametersModule}};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var we={loading:!1,hasError:!1,thresholds:[],volume_1m:"",volume_5m:"",volume_1h:"",volume_1d:"",resistance:"",OPEN_INTEREST:"",support:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{thresholdsModule:we},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THRESHOLDS_REQUEST":return Ne({},e.thresholdsModule,{loading:!0,hasError:!1});case"THRESHOLDS_SUCCESS":return Ne({},e.thresholdsModule,{loading:!1,hasError:!1});case"THRESHOLDS_FAILURE":return Ne({},e.thresholdsModule,{loading:!1,hasError:!0});case"THRESHOLDS_UPDATE":return Ne({},e.thresholdsModule,{thresholds:Object(o.a)(t.payload)});case"THRESHOLDS_UPDATE_ALERT":return Ne({},e.thresholdsModule,{},t.payload);default:return e.thresholdsModule}};function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var De={connected:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{websocketModule:De},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WS_CONNECTED":return Pe({},e.websocketModule,{connected:!0});case"WS_DISCONNECTED":return Pe({},e.websocketModule,{connected:!1});default:return e.websocketModule}},Re=function(e,t){return{levelsModule:ve(e,t),parametersModule:Se(e,t),thresholdsModule:je(e,t),statModule:Ee(e,t),websocketModule:Ue(e,t)}},Le=r(31),ke=function(){var e=null,t=null,r=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return E(n,"WEBSOCKET SEND"),t.apply(e,n)};return function(n){return function(a){return function(c){switch(c.type){case"WS_CONNECT":null!==e&&e.close(),E(N,"WEBSOCKET CONNECTION"),e=new WebSocket(c.payload),t=e.send,e.onopen=function(e){return function(t){E({type:t.type,url:t.target.url},"WEBSOCKET OPEN"),e.dispatch("WS_CONNECTED")}}(n),e.send=r,e.onclose=function(e){return function(t){E({type:t.type,url:t.target.url},"WEBSOCKET DISCONECTED"),e.dispatch("WS_DISCONNECTED")}}(n),e.onerror=function(e){return function(t){E({type:t.type,url:t.target.url},"WEBSOCKET ERROR"),e.dispatch("WS_ERROR")}}(n),e.onmessage=function(e){return function(t){var r=JSON.parse(t.data);switch(E(r,"WEBSOCKET MESSAGE"),r.type){case"trade":e.dispatch([d,{price:r.price}]);break;case"trade_volume_XBTUSD":e.dispatch([d,{volume_of_last:r.trade_volume}]);break;case"volume1m":e.dispatch([d,{volume1m_change:r.volume1m_change,volume1m_change_percent:r.volume1m_change_percent}]);break;case"volume5m":e.dispatch([d,{volume5m_change:r.volume5m_change,volume5m_change_percent:r.volume5m_change_percent}]);break;case"volume1h":e.dispatch([d,{volume1h_change:r.volume1h_change,volume1h_change_percent:r.volume1h_change_percent}]);break;case"volume1d":e.dispatch([d,{volume1d_change:r.volume1d_change,volume1d_change_percent:r.volume1d_change_percent}]);break;case"instrument":switch(!0){case h(r,"open_interest"):e.dispatch([d,{open_inerest:r.open_interest}]);break;case h(r,"predicted_funding_rate"):e.dispatch([d,{next_funding_rate_change:r.next_funding_rate_change,predicted_funding_rate:r.predicted_funding_rate}]);break;case h(r,"current_funding_rate"):e.dispatch([d,{current_funding_rate:r.current_funding_rate,next_funding_rate_change:r.next_funding_rate_change}])}}}}(n);break;case"WS_CONNECTED":e.send(JSON.stringify({subscribe:"XBTUSD"})),e.send(JSON.stringify({subscribe:"trade_volume_XBTUSD"})),e.send(JSON.stringify({subscribe:"volume1m_XBTUSD"})),e.send(JSON.stringify({subscribe:"volume5m_XBTUSD"})),e.send(JSON.stringify({subscribe:"volume1h_XBTUSD"})),e.send(JSON.stringify({subscribe:"volume1d_XBTUSD"})),e.send(JSON.stringify({subscribe:"instrument_XBTUSD"}));break;case"WS_DISCONNECT":null!==e&&e.close(),e=null,t=null,E("","WEBSOCKET CLOSED");break;case"WS_ERROR":null!==e&&e.close();break;default:return a(c)}}}}}(),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.c,Ae=[Le.a,function(){return function(e){return function(t){if("string"===typeof t)return e({type:t});if(Array.isArray(t)){var r=Object(X.a)(t,2),n=r[0],a=r[1];return e({type:n,payload:a})}return e(t)}}},ke],xe=Object(ie.d)(Re,Me(ie.a.apply(void 0,Ae)));s.a.render(a.a.createElement(l.a,{store:xe},a.a.createElement(ue,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.81e793f3.chunk.js.map